var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if("function"==typeof a.forEach)a.forEach(b);else{var c,d=a.length;for(c=0;d>c;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require("./extensions/"+a)})}}if(this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=M(a),a=a.replace(/^[ \t]+$/gm,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a},a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){if("string"==typeof a&&(a=Showdown.extensions[stdExtName(a)]),"function"!=typeof a)throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?"language"===a.type||"lang"===a.type?f.push(a):("output"===a.type||"html"===a.type)&&g.push(a):g.push(a)})})}var w,k=function(a,b){if(a.regex){var c=RegExp(a.regex,"g");return b.replace(c,a.replace)}return a.filter?a.filter(b):void 0},l=function(a){return a+="~0",a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(/"/g,"&quot;")),"")}),a=a.replace(/~0/,"")},m=function(a){return a=a.replace(/\n/g,"\n\n"),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,n),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/\n\n/g,"\n")},n=function(a,b){var c=b;return c=c.replace(/\n\n/g,"\n"),c=c.replace(/^\n/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(d.push(c)-1)+"K\n\n"},o=function(a){a=v(a);var b=A("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a)},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(/  +\n/g," <br />\n")},q=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=N(b,"\\`*_")})},r=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,s)},s=function(a,d,e,f,g,h,i,j){void 0==j&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(""==n)if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0!=b[m])n=b[m],void 0!=c[m]&&(o=c[m]);else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}n=N(n,"*_");var p='<a href="'+n+'"';return""!=o&&(o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>"},t=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u)},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(o||(o=""),""==n){if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0==b[m])return k;n=b[m],void 0!=c[m]&&(o=c[m])}l=l.replace(/"/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" />"},v=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"</h"+e+">")})},x=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=w(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=w(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n"})),a=a.replace(/~0/,"")};w=function(a){return e++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b;return g||f.search(/\n{2,}/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(/\n$/,""),f=p(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",A(d)+e}),a=a.replace(/~0/,"")},z=function(a){return a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),e="<pre><code"+(d?' class="'+d+'"':"")+">"+e+"\n</code></pre>",A(e)}),a=a.replace(/~0/,"")},A=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(d.push(a)-1)+"K\n\n"},B=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=C(f),b+"<code>"+f+"</code>"})},C=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=N(a,"*_{}[]\\",!1)},D=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},E=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=o(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),A("<blockquote>\n"+c+"\n</blockquote>")})},F=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var b=a.split(/\n{2,}/g),c=[],e=b.length,f=0;e>f;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?c.push(g):g.search(/\S/)>=0&&(g=p(g),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",c.push(g))}e=c.length;for(var f=0;e>f;f++)for(;c[f].search(/~K(\d+)K/)>=0;){var h=d[RegExp.$1];h=h.replace(/\$/g,"$$$$"),c[f]=c[f].replace(/~K\d+K/,h)}return c.join("\n\n")},G=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},H=function(a){return a=a.replace(/\\(\\)/g,O),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},I=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return J(K(b))})},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"==a)a=b[Math.floor(2*Math.random())](a);else if(":"!=a){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')},K=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})},L=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")},M=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var d=b,e=4-d.length%4,f=0;e>f;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,"")},N=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=RegExp(d,"g");return a=a.replace(e,O)},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown});(function(t,w,d){"use strict";var editor,parse,dirty=false,setDirty=function(){dirty=true;},openEditor=function(){var event=new CustomEvent("demarcateEditorEnabled",{"detail":{"editor":editor}}); editor.contentEditable=true;createEditorMenu(); editor.addEventListener("input",setDirty); editor.dispatchEvent(event);},closeEditor=function(getMarkdown){var md="",event=new CustomEvent("demarcateEditorClosed",{"detail":{"editor":editor}}); editor.contentEditable=false; if(getMarkdown!==undefined&&getMarkdown){md=parse(editor);} 
editor.dispatchEvent(event); d.getElementsByClassName("demarcate-menu")[0].remove(); dirty=false;editor=null;return md;},focusEditor=function(){ if(editor===null)return;editor.focus();var elem=w.getSelection().baseNode;if(elem.nodeType===3){for(elem=elem.parentNode;elem.nodeType===3;elem=elem.parentElement){}}
elem.scrollIntoView(true);},createMenuButton=function(text,action,tooltip){var button=d.createElement("a");button.href="#";button.innerHTML=text;button.title=tooltip;button.className="demarcate-menu-button";button.onclick=function(e){e.stopPropagation();action();focusEditor();};return button;},createEditorMenu=function(){var menu=d.createElement("div"),body=d.getElementsByTagName("body")[0]; menu.className="demarcate-menu";menu.appendChild(createMenuButton("X",function(){demarcate.disable();},"Stop editing"));menu.appendChild(createMenuButton("B",function(){demarcate.apply("bold");},"Makes text bold (CTRL+B)"));menu.appendChild(createMenuButton("I",function(){demarcate.apply("italic");},"Makes text italic (CTRL+I)"));;menu.appendChild(createMenuButton("H1",function(){demarcate.heading(1);},"Set heading level 1 (CTRL+SHIFT+1)"));menu.appendChild(createMenuButton("H2",function(){demarcate.heading(2);},"Set heading level 2(CTRL+SHIFT+2)"));menu.appendChild(createMenuButton("H3",function(){demarcate.heading(3);},"Set heading level 3(CTRL+SHIFT+3)"));menu.appendChild(createMenuButton("H4",function(){demarcate.heading(4);},"Set heading level 4(CTRL+SHIFT+4)"));menu.appendChild(createMenuButton("P",function(){demarcate.transform("p");},"Makes text a plain paragraph (CTRL+SHIFT+SPACE)"));menu.appendChild(createMenuButton("OL",function(){demarcate.insert("p");demarcate.insert("ol");},"Inserts an ordered list (CTRL+SHIFT+L)"));menu.appendChild(createMenuButton("UL",function(){demarcate.insert("p");demarcate.insert("ul");},"Inserts an unordered list (CTRL+SHIFT+U)"));menu.appendChild(createMenuButton("CDE",function(){demarcate.transform("code");},"Makes text a code block"));menu.appendChild(createMenuButton("QTE",function(){demarcate.transform("blockquote");},"Makes paragraph a quote (CTRL+SHIFT+Q)"));menu.appendChild(createMenuButton("CLR",function(){demarcate.clearFormats();},"Clears formatting from the selected text")); body.appendChild(menu);}, demarcate=function(elem){if(elem!==undefined){demarcate.enable(elem);}};demarcate.enable=function(elem){editor=elem;openEditor();};demarcate.apply=function(fmt,val){d.execCommand(fmt,false,val);focusEditor();},demarcate.html=function(){return editor.innerHTML;};demarcate.demarcate=funciton(elem){return demarcate.parse(elem);}
demarcate.isEnabled=function(){return editor===null||editor.contentEditable===false;};demarcate.transform=function(tag){demarcate.apply("formatblock","<"+tag+">");};demarcate.insert=function(tag){if(tag==="ul"){demarcate.apply("insertUnorderedList");}else if(tag==="ol"){demarcate.apply("insertOrderedList");}else if(tag==="hr"){demarcate.apply("insertHTML","<hr />");}else{console.log("demarcate.insert could not insert unknown tag - "+tag);}};demarcate.heading=function(level){ if(level<1||level>6)return;demarcate.transform("H"+level);};demarcate.clearFormats=function(){demarcate.apply("removeFormat");};if(typeof key!=='undefined'){ key("ctrl+shift+b",function(e,h){e.stopPropagation();demarcate.apply("bold");});key("ctrl+shift+i",function(e,h){e.stopPropagation();demarcate.apply("italic");}); key("ctrl+shift+1",function(e,h){e.stopPropagation();demarcate.heading(1);});key("ctrl+shift+2",function(e,h){e.stopPropagation();demarcate.heading(2);});key("ctrl+shift+3",function(e,h){e.stopPropagation();demarcate.heading(3);});key("ctrl+shift+4",function(e,h){e.stopPropagation();demarcate.heading(4);});key("ctrl+shift+5",function(e,h){e.stopPropagation();demarcate.heading(5);});key("ctrl+shift+6",function(e,h){e.stopPropagation();demarcate.heading(6);});key("ctrl+shift+space",function(e,h){e.stopPropagation();demarcate.transform("p");});key("ctrl+shift+u",function(e,h){e.stopPropagation();demarcate.insert("ul");});key("ctrl+shift+l",function(e,h){e.stopPropagation();demarcate.insert("ol");});key("ctrl+shift+h",function(e,h){e.stopPropagation();demarcate.insert("hr");});key("ctrl+shift+q",function(e,h){e.stopPropagation();demarcate.transform("blockquote");});} 
w.demarcate=demarcate;})(this,window,document);(function(demarcate){"use strict";var parse=function(elem){ if(elem===undefined)elem=editor; var tagName=elem.nodeType==3?"_text":elem.tagName.toLowerCase(); if(!(tagName in tagDict))return""; return tagDict[tagName].process(elem);},tagDict={'div':{markdownable:true,process:function(elem){return parse(elem,'','');},},'span':{markdownable:true,process:function(elem){return parse(elem,'','');},},'h1':{markdownable:true,process:function(elem){return parse(elem,'# ','\n\n');},},'h2':{markdownable:true,process:function(elem){return parse(elem,'## ','\n\n');},},'h3':{markdownable:true,process:function(elem){return parse(elem,'### ','\n\n');},},'h4':{markdownable:true,process:function(elem){return parse(elem,'#### ','\n\n');},},'h5':{markdownable:true,process:function(elem){return parse(elem,'##### ','\n\n');},},'h6':{markdownable:true,process:function(elem){return parse(elem,'###### ','\n\n');},},'li':{markdownable:true,process:function(elem){return parse(elem);},},'ul':{markdownable:true,process:function(elem){return list(elem,'unordered');},},'ol':{markdownable:true,process:function(elem){return list(elem,'ordered');},},'blockquote':{markdownable:true,process:function(elem){return parse(elem,'> ','\n\n');},},'pre':{markdownable:true,process:function(elem){return code(elem);},},'code':{markdownable:true,process:function(elem){return code(elem);},},'a':{markdownable:true,process:function(elem){return link(elem);},},'hr':{markdownable:true,process:function(elem){return parse(elem,'------','\n\n');},},'em':{markdownable:true,process:function(elem){return parse(elem,' *','* ');},},'strong':{markdownable:true,process:function(elem){return parse(elem,' **','** ');},},'p':{markdownable:true,process:function(elem){return parse(elem,'','\n\n');},},'table':{markdownable:true,process:function(elem){return table(elem);},},'th':{markdownable:true,process:function(elem){return"";}},'td':{markdownable:true,process:function(elem){return"";}},'br':{markdownable:true,process:function(elem){return parse(elem,'    \n','');},},'img':{markdownable:true,process:function(elem){return image(elem);},},'sup':{markdownable:true,process:function(elem){return footnote(elem);},},'_text':{markdownable:true,process:function(elem){return elem===undefined?"":getTextFromNode(elem);},},},getTextFromNode=function(elem,allowNewlines,preserveWhitespace){var txt=elem.innerText||elem.textContent;txt=txt.trim();if(allowNewlines===undefined||!allowNewlines){txt=txt.replace(/\n/g," ");}
if(preserveWhitespace===undefined||!preserveWhitespace){txt=txt.replace(/\s{2,}/g,' ');}
return txt;},hasClass=function(elem,cls){ return(" "+elem.className+" ").replace(/[\n\t]/g," ").indexOf(" "+cls+" ")>-1;},parse=function(elem,prefix,postfix){return prefix+parseChildren(elem)+postfix;},link=function(elem){ if(hasClass(elem,"footnote-backref"))return""; var result=" [";result+=parseChildren(elem);return result+"]("+elem.attr("href")+") ";},list=function(elem,type){var count=1,result="",children=elem.getElementsByTagName("li");for(var i=0;i<children.length;++i){ if(type=='ordered'){result+=count+". ";count++;}else{result+="- ";} 
result+=parseChildren(children[i])+"\n";}
return result+"\n";},code=function(elem){ var tagName=elem.nodeType==3?'_text':elem.tagName.toLowerCase();var result="";
 if(elem.childNodes.length==1){if(tagName=="code"){return" `"+getTextFromNode(elem,true,true)+"` ";}}

 
return"\n\n"+
("    "+getTextFromNode(elem,true,true)).replace(/\n/g,"\n    ")+"\n\n";},table=function(elem){var repeatStr=function(str,num)
{return new Array(num+1).join(str);} 
var maxColLen=[],rowLen=0,cells=[],op="",headerRow=true,col=0,rows=elem.getElementsByTagName("tr");
 for(var i=0;i<rows.length;++i){cells[i]=[];col=0,children=rows[i].childNodes; for(var j=0;j<children.length;++j){ var contents=getTextFromNode(children[j]);var contentLen=contents.length; if(maxColLen.length<=j){maxColLen.push(contentLen);}else{if(contentLen>maxColLen[j]){maxColLen[j]=contentLen;}} 
cells[i][j]=parseChildren(children[j]);}} 
for(var r=0;r<maxColLen.length;r++){rowLen+=maxColLen[r]+1;} 
for(var r=0;r<cells.length;r++){ var row=cells[r];for(var c=0;c<row.length;c++){var cellLen=row[c].length;var padding=maxColLen[c]-cellLen;op+=row[c]+repeatStr(" ",padding)+"|";} 
if(headerRow){op+="\n";for(var i=0;i<maxColLen.length;i++){op+=repeatStr("-",maxColLen[i])+"|";}
headerRow=false;}
op+="\n";}
return op+"\n\n";},image=function(elem){var alt=elem.attr("alt");var title=elem.attr("title");var url=elem.attr("src");var op=" !["+alt+"]("+url;if(title!=""){op+=" \""+title+"\"";}
return op+") ";},footnote=function(elem){var id=elem.id; var fn_name=id.split(":");if(fn_name.length!==2||fn_name[0]!=="fnref")return""; return" [^"+fn_name[1]+"] ";},footnoteList=function(elem){var result="",children=elem.getElementsByTagName("ol"),subchildren=[];for(var i=0;i<children.length;++i){subchildren=subchildren.concat(children[i].getElementsByTagName("li"));}
 
for(var i=0;i<subchildren.length;++i){ var fn_name=subchildren[i].id.split(":");if(fn_name.length!==2||fn_name[0]!=="fn")continue; result+="[^"+fn_name[1]+"]: "; result+=parseChildren(subchildren[i]);result+="\n\n";}
return result;},parseChildren=function(elem){ var result="",children=elem.childNodes; for(var i=0;i<children.length;++i){ var node=children[i];var node_type=node.nodeType;var tagName=node_type==3?'_text':node.tagName.toLowerCase();


if(tagName!="_text"){ if(hasClass(node,"demarcate_temporary")||node.id=="demarcate_toolbar"){continue;} 
if(!(tagName in tagDict))continue; if((!tagDict[tagName].markdownable))continue;if(tagName=='div'){if(hasClass(node,"toc")){result+="\n[TOC]\n\n";continue;}else if(hasClass(node,"footnote")){result+=footnoteList(node);continue;}}} 
result+=tagDict[tagName].process(node);}
return result;}; demarcate.parse=parse;})(window.demarcate);